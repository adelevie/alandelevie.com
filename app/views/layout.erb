<!doctype html>
<html lang="en">
<head>
  <!-- so help me, I am testing out chartbeat -->
  <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>

  <meta charset="utf-8" />

  <% if title = yield_content(:title) %>
    <title><%= h title %> | Eric Mill</title>
  <% else %>
    <title>Eric Mill</title>
  <% end %>

  <meta name="description" content="Eric Mill's writing and INSIDE FEELINGS" />
  <meta name="author" content="Eric Mill" />
  <meta name="copyright" content="2002-<%= Time.now.year %>" />
  <meta name="google-site-verification" content="BXdkAuVxuVdwYrDQxUbThU19WVlKsmyFMVxZgoAckdo" />

  <link rel="vcs-git" href="https://github.com/konklone/konklone" title="blog code" />

  <link rel="openid.server" href="http://www.myopenid.com/server" />
  <link rel="openid.delegate" href="http://klondike.myopenid.com/" />

  <link href='https://fonts.googleapis.com/css?family=Open+Sans|Average' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/html5-reset.css" />

  <% unless defined?(resume) and resume %>
    <link rel="stylesheet" href="/css/main.css?<%= Time.now.to_i %>" />
  <% end %>

  <% if canonical = yield_content(:canonical) %>
  <link rel="canonical" href="<%= canonical %>" />
  <% end %>

  <%= yield_content :head %>

  <!-- rss must live on -->
  <link rel="alternate" href="/rss.xml" type="application/rss+xml" title="All posts" />

  <!--[if lt IE 9]><script src="/js/html5.js"></script><![endif]-->

  <!-- jquery is the jquery of the web -->
  <script src="/js/jquery-2.0.3.min.js"></script>
  <script src="/js/jquery.placehold-0.3.min.js"></script>
</head>

<body>

  <header class="main">
    <div class="inner me">
      <a rel="me" class="me left" href="/">Eric Mill</a>

      <!-- important: this needs to go before main ul block,
           or it can get knocked down below the ul block on first load -->
      <div class="right">
        <a class="feed" href="/rss.xml">feed</a>
        <a class="twitter" rel="me" href="https://twitter.com/konklone">twitter</a>
        <a class="email" href="mailto:eric@konklone.com">email</a>
        <a class="key" href="/konklone-pgp-public.asc">key</a>
      </div>

      <h1>
        <a href="#"></a>
      </h1>

      <ul>
        <li><%= header_link "blog", ["/", /^\/post\//] %></li>
        <li><%= header_link "projects", "/projects" %></li>
        <li><%= header_link "blackout", ["/blackout", /^\/blackout\//] %></li>
        <% if admin? %>
          <li><a href="/admin">Admin</a></li>
        <% end %>
      </ul>
    </div>

    <!-- may be shown and filled in on an article page -->
    <div class="inner article">
      <a class="left" href="/">Eric Mill</a>
      <h1></h1>
      <div class="right">
        <a class="feed" href="/rss.xml">feed</a>
        <a class="twitter" rel="me" href="https://twitter.com/konklone">twitter</a>
        <a class="email" href="mailto:eric@konklone.com">email</a>
        <a class="key" href="/konklone-pgp-public.asc">key</a>
      </div>
    </div>

  </header>

  <div class="main" role="main">
    <%= yield %>
  </div>

  <footer class="main">
    <p>
      Everything written under <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons BY</a>.
    </p>
  </footer>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-252618-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

  <script type="text/javascript">
  // workaround for chrome bug: http://code.google.com/p/chromium/issues/detail?id=35980#c12
  if ( window.innerWidth === 0 ) { window.innerWidth = parent.innerWidth; window.innerHeight = parent.innerHeight; }
  </script>

  <%= yield_content :foot %>

  <!-- so help me, I am testing out chartbeat -->
  <script type="text/javascript">
    var _sf_async_config = { uid: 49764, domain: 'konklone.com', useCanonical: true };
    (function() {
      function loadChartbeat() {
        window._sf_endpt = (new Date()).getTime();
        var e = document.createElement('script');
        e.setAttribute('language', 'javascript');
        e.setAttribute('type', 'text/javascript');
        e.setAttribute('src','https://static.chartbeat.com/js/chartbeat.js');
        document.body.appendChild(e);
      };
      var oldonload = window.onload;
      window.onload = (typeof window.onload != 'function') ?
        loadChartbeat : function() { oldonload(); loadChartbeat(); };
    })();
  </script>
</body>
</html>
